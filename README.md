# An Introduction to The Hbb Repository

This repository is about my ZH(bb) analysis framework.

The analysis of Z to mu+ mu- is the subject of `ZpeakSig`. Only TH1 histograms can be generated by this analyzer. However, this framework is no longer valid. It should be thrown away.

In my ZH(bb) work, `ZH` contains the analyzer and plot macros. The plot subfolder contains macros that I use to plot histograms, stack histograms, the Data/MC ratio, and the sideband/signal region ratio. OOP was used to create the plot macro. The class `Hist` is defined in `plotConfig.py`. The functions of the plot are in `plotHelper.py`. When the pT distribution of dijet for comparison the sideband region and signal region, a trick bug is in the histogram. So a separated macro is used to produce this histogram as a temporary solution.

`Cutflow` is made up of three files. `cutFlowCalc.py` is a Python script that analyzes the cut-flow of ZH cuts. Using `pandas`, `transferTxtToTex.py` can convert a `.txt` file delimited by tab to a `.tex` file. The fit of dijet's invariant mass spectrum is the other.

Some macros are included in `Tools`, which help me work more efficiently. There is now a macro that can generate a large number of `CRAB` scripts. There's also a simple shell for submitting many jobs to `CRAB` at once. There are additional macros for creating and editing the database json file.

`MCUtilities` includes some macros that make it simple to generate and analyze MC samples. In this stage, the MadGraph5@NLO is used to generate MC samples.

#### Branch List

- `dev` branch is the developing branch.

- `master` branch is the stable branch. 

- `xsCalc` branch is the developing branch for the calculation of the upper limit of the differential cross section of ZH process. It has been merged to `dev` now. If all work is finished, this branch will be discarded.

  All new macros will be uploaded to the specific branch first, then the branch will be merged to `master` when it is stable.

## To-do List

- Update the TTree Selector from `TTreeReader` to `RDataFrame`
- Add more MC samples and Data to the analysis
- Add corrections (e.g. muon scale factors) to the framework